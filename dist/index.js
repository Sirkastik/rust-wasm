(()=>{var e,n,r,t,a,o={563:(e,n,r)=>{"use strict";r.d(n,{Z:()=>s});var t=r(81),a=r.n(t),o=r(645),i=r.n(o)()(a());i.push([e.id,'* {\r\n\tfont-family: \'Secular One\', "Baloo 2", cursive;\r\n\t--main: #101020;\r\n\t--bg: #212133;\r\n\t--color: #8e8eab;\r\n\t--accent: #27b5ff;\r\n\t--shadow: 0px 14px 14px 2px #03001733;\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n\tbox-sizing: border-box;\r\n\tscroll-behavior: smooth;\r\n}\r\n\r\n::-webkit-scrollbar {\r\n\topacity: 0;\r\n\twidth: 0.2em;\r\n\theight: 0;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n\tborder-radius: 100vw;\r\n\tbackground-color: var(--main);\r\n}\r\n\r\na {\r\n\tall: unset;\r\n}\r\n\r\nbody {\r\n\ttext-align: center;\r\n\tdisplay: grid;\r\n\tplace-content: center;\r\n\tmax-width: 100vw;\r\n\tmax-height: 100vh;\r\n\tpadding: 2rem 0;\r\n\tbackground: var(--bg);\r\n\tcolor: var(--color);\r\n}\r\n\r\n#app {\r\n\theight: 100vh;\r\n\twidth: 100vw;\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\talign-items: center;\r\n}\r\n\r\n#app > h1 {\r\n\tposition: absolute;\r\n\ttop: 1rem;\r\n\tleft: 3rem;\r\n\tright: 0;\r\n}\r\n\r\n.bar {\r\n\twidth: 10%;\r\n\theight: 96%;\r\n\tbackground: var(--main);\r\n\tbox-shadow: var(--shadow);\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tjustify-content: space-evenly;\r\n\tpadding: .8rem 0;\r\n\tmargin: 2% 0.6rem;\r\n\tborder-radius: 0.5rem;\r\n}\r\n\r\n#main {\r\n\twidth: calc(100% - 4rem);\r\n\theight: 100%;\r\n\tpadding: 5rem;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin-right: 4rem;\r\n}\r\n\r\n.drag {\r\n\tbackground: #8e8eab4a;\r\n}\r\n\r\n.material-icons {\r\n\tdisplay: block;\r\n\tpointer-events: none;\r\n}\r\n\r\n.pair {\r\n\tdisplay: inline;\r\n\tcursor: pointer;\r\n}\r\n\r\nselect {\r\n\tcolor: red;\r\n}\r\n\r\n.effect {\r\n\topacity: 0.5;\r\n\tpointer-events: none;\r\n}\r\n\r\n.compare {\r\n\tposition: fixed;\r\n\ttop: 2rem;\r\n\tright: 2rem;\r\n\tcursor: pointer;\r\n}\r\n\r\n.icons {\r\n\tposition: fixed;\r\n\ttop: 2rem;\r\n\tleft: 10%;\r\n\tright: 4rem;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\tgap: 2rem;\r\n}\r\n\r\n.right {\r\n\tposition: fixed;\r\n\ttop: calc(50% - 3.5em);\r\n\tright: 2rem;\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tgap: 2rem;\r\n}\r\n\r\n#download {\r\n\tposition: fixed;\r\n\tright: 2rem;\r\n\tbottom: 2rem;\r\n\tcursor: pointer;\r\n}\r\n\r\nimg {\r\n\tmax-height: 75vh;\r\n\tmax-width: 100%;\r\n}\r\n\r\n.img {\r\n\tposition: relative;\r\n\tmax-width: 100%;\r\n\tmax-height: 100%;\r\n}\r\n\r\n#delete {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\ttop: -2em;\r\n\tleft: 0;\r\n\tborder-radius: 0.4rem;\r\n\tpadding: 0.3rem;\r\n\tbackground: var(--main);\r\n\tcolor: var(--color);\r\n\tz-index: 3;\r\n\t/* opacity: 0.4; */\r\n\tcursor: pointer;\r\n}\r\n\r\n#delete > span {\r\n\tfont-size: 1.1em;\r\n\r\n}\r\n\r\n.point-none {\r\n\tpointer-events: none;\r\n}\r\n\r\n\r\n\r\nlabel {\r\n\tcursor: pointer;\r\n\tpointer-events: all;\r\n}\r\n\r\n.icon {\r\n\tfont-size: 0.6rem;\r\n\tcursor: pointer;\r\n}\r\n\r\n/* slider */\r\n.sliderdiv {\r\n\tposition: fixed;\r\n\tbottom: 1.5rem;\r\n\tleft: 0;\r\n\tright: 4rem;\r\n\tmargin-left: 10vw;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: center;\r\n\tflex-direction: column;\r\n\tgap: .5rem;\r\n}\r\n\r\n.slider {\r\n\tposition: relative;\r\n\twidth: 500px;\r\n\theight: 5px;\r\n}\r\n\r\n.track {\r\n\tbackground: var(--color);\r\n\theight: 2px;\r\n\twidth: 100%;\r\n\tborder-radius: 10rem;\r\n}\r\n\r\n.thumb {\r\n\tposition: absolute;\r\n\theight: 20px;\r\n\twidth: 20px;\r\n\tborder-radius: 50%;\r\n\tbackground: var(--accent);\r\n\ttop: -10px;\r\n}\r\n\r\n\r\n.hidden {\r\n\tdisplay: none;\r\n}',""]);const s=i},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(e,r,t,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(t)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<e.length;d++){var l=[].concat(e[d]);t&&i[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},81:e=>{"use strict";e.exports=function(e){return e[1]}},280:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>m});var t=r(379),a=r.n(t),o=r(795),i=r.n(o),s=r(569),c=r.n(s),d=r(565),l=r.n(d),_=r(216),u=r.n(_),p=r(589),f=r.n(p),g=r(563),b={};b.styleTagTransform=f(),b.setAttributes=l(),b.insert=c().bind(null,"head"),b.domAPI=i(),b.insertStyleElement=u(),a()(g.Z,b);const m=g.Z&&g.Z.locals?g.Z.locals:void 0},379:e=>{"use strict";var n=[];function r(e){for(var r=-1,t=0;t<n.length;t++)if(n[t].identifier===e){r=t;break}return r}function t(e,t){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],d=t.base?c[0]+t.base:c[0],l=o[d]||0,_="".concat(d," ").concat(l);o[d]=l+1;var u=r(_),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==u)n[u].references++,n[u].updater(p);else{var f=a(p,t);t.byIndex=s,n.splice(s,0,{identifier:_,updater:f,references:1})}i.push(_)}return i}function a(e,n){var r=n.domAPI(n);return r.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;r.update(e=n)}else r.remove()}}e.exports=function(e,a){var o=t(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=r(o[i]);n[s].references--}for(var c=t(e,a),d=0;d<o.length;d++){var l=r(o[d]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}o=c}}},569:e=>{"use strict";var n={};e.exports=function(e,r){var t=function(e){if(void 0===n[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}n[e]=r}return n[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,r)=>{"use strict";e.exports=function(e){var n=r.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(r){!function(e,n,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,a&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(t,e,n.options)}(n,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},235:(e,n,r)=>{"use strict";r.a(e,(async e=>{r.r(n),r.d(n,{__wbg_log_3445347661d4505e:()=>t.JV,__wbindgen_object_drop_ref:()=>t.ug,__wbindgen_string_new:()=>t.h4,__wbindgen_throw:()=>t.Or,blur:()=>t.yv,brighten:()=>t.Q0,contrast:()=>t.$p,crop:()=>t.d1,flip_horizontal:()=>t.D6,flip_vertical:()=>t.df,grayscale:()=>t.se,invert:()=>t.U_,rotate_180:()=>t.zI,rotate_270:()=>t.ay,rotate_90:()=>t.Bf,sharpen:()=>t.dF});var t=r(838),a=e([t]);t=(a.then?await a:a)[0]}))},838:(e,n,r)=>{"use strict";r.a(e,(async t=>{r.d(n,{se:()=>v,U_:()=>w,Q0:()=>y,yv:()=>x,dF:()=>k,$p:()=>j,df:()=>L,D6:()=>E,Bf:()=>T,zI:()=>S,ay:()=>A,d1:()=>O,h4:()=>M,ug:()=>I,JV:()=>D,Or:()=>P});var a=r(530);e=r.hmd(e);var o=t([a]);a=(o.then?await o:o)[0];let i=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let s=null;function c(){return null!==s&&s.buffer===a.memory.buffer||(s=new Uint8Array(a.memory.buffer)),s}function d(e,n){return i.decode(c().subarray(e,e+n))}const l=new Array(32).fill(void 0);l.push(void 0,null,!0,!1);let _=l.length;function u(e){return l[e]}let p=0,f=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof f.encodeInto?function(e,n){return f.encodeInto(e,n)}:function(e,n){const r=f.encode(e);return n.set(r),{read:e.length,written:r.length}};function b(e,n,r){if(void 0===r){const r=f.encode(e),t=n(r.length);return c().subarray(t,t+r.length).set(r),p=r.length,t}let t=e.length,a=n(t);const o=c();let i=0;for(;i<t;i++){const n=e.charCodeAt(i);if(n>127)break;o[a+i]=n}if(i!==t){0!==i&&(e=e.slice(i)),a=r(a,t,t=i+3*e.length);const n=c().subarray(a+i,a+t);i+=g(e,n).written}return p=i,a}let m=null;function h(){return null!==m&&m.buffer===a.memory.buffer||(m=new Int32Array(a.memory.buffer)),m}function v(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.grayscale(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function w(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.invert(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function y(e,n){try{const s=a.__wbindgen_add_to_stack_pointer(-16);var r=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),t=p;a.brighten(s,r,t,n);var o=h()[s/4+0],i=h()[s/4+1];return d(o,i)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(o,i)}}function x(e,n){try{const s=a.__wbindgen_add_to_stack_pointer(-16);var r=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),t=p;a.blur(s,r,t,n);var o=h()[s/4+0],i=h()[s/4+1];return d(o,i)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(o,i)}}function k(e,n,r){try{const c=a.__wbindgen_add_to_stack_pointer(-16);var t=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),o=p;a.sharpen(c,t,o,n,r);var i=h()[c/4+0],s=h()[c/4+1];return d(i,s)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(i,s)}}function j(e,n){try{const s=a.__wbindgen_add_to_stack_pointer(-16);var r=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),t=p;a.contrast(s,r,t,n);var o=h()[s/4+0],i=h()[s/4+1];return d(o,i)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(o,i)}}function L(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.flip_vertical(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function E(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.flip_horizontal(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function T(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.rotate_90(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function S(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.rotate_180(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function A(e){try{const i=a.__wbindgen_add_to_stack_pointer(-16);var n=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),r=p;a.rotate_270(i,n,r);var t=h()[i/4+0],o=h()[i/4+1];return d(t,o)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(t,o)}}function O(e,n,r,t,o){try{const _=a.__wbindgen_add_to_stack_pointer(-16);var i=b(e,a.__wbindgen_malloc,a.__wbindgen_realloc),s=p;a.crop(_,i,s,n,r,t,o);var c=h()[_/4+0],l=h()[_/4+1];return d(c,l)}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(c,l)}}function M(e,n){return function(e){_===l.length&&l.push(l.length+1);const n=_;return _=l[n],l[n]=e,n}(d(e,n))}function I(e){!function(e){const n=u(e);(function(e){e<36||(l[e]=_,_=e)})(e)}(e)}function D(e){console.log(u(e))}function P(e,n){throw new Error(d(e,n))}}))},530:(e,n,r)=>{"use strict";var t=([t])=>r.v(n,e.id,"e97befce7417da29217a",{"./index_bg.js":{__wbindgen_string_new:t.h4,__wbindgen_object_drop_ref:t.ug,__wbg_log_3445347661d4505e:t.JV,__wbindgen_throw:t.Or}});r.a(e,(e=>{var n=e([r(838)]);return n.then?n.then(t):t(n)}),1)}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return o[e](r,r.exports,s),r.loaded=!0,r.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",n="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},t=e=>!--e.r&&e(),a=(e,n)=>e?e.push(n):t(n),s.a=(o,i,s)=>{var c,d,l,_=s&&[],u=o.exports,p=!0,f=!1,g=(n,r,t)=>{f||(f=!0,r.r+=n.length,n.map(((n,a)=>n[e](r,t))),f=!1)},b=new Promise(((e,n)=>{l=n,d=()=>(e(u),r(_),_=0)}));b[n]=u,b[e]=(e,n)=>{if(p)return t(e);c&&g(c,e,n),a(_,e),b.catch(n)},o.exports=b,i((o=>{if(!o)return d();var i,s;c=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var i=[];o.then((e=>{s[n]=e,r(i),i=0}));var s={};return s[e]=(e,n)=>(a(i,e),o.catch(n)),s}}var c={};return c[e]=e=>t(e),c[n]=o,c})))(o);var l=new Promise(((e,r)=>{(i=()=>e(s=c.map((e=>e[n])))).r=0,g(c,i,r)}));return i.r?l:s})).then(d,l),p=!1},s.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return s.d(n,{a:n}),n},s.d=(e,n)=>{for(var r in n)s.o(n,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),s.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.v=(e,n,r,t)=>{var a=fetch(s.p+""+r+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,t).then((n=>Object.assign(e,n.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t))).then((n=>Object.assign(e,n.instance.exports)))},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var n=s.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{const{rotate_90:e}=s(235);s(280);const n=e=>document.getElementById(e),r=(e,n,r,t)=>{let a;switch(r){default:a=e.grayscale(n);break;case"invert":a=e.invert(n);break;case"flip":a=e.flip_horizontal(n);break;case"rotate_90":a=e.rotate_90(n);break;case"rotate_180":a=e.rotate_180(n);break;case"rotate_270":a=e.rotate_270(n);break;case"blur":a=e.blur(n,parseFloat(t));break;case"sharpen":a=e.sharpen(n,parseFloat(t),function(e,n){const r=Math.floor(30*Math.random())+90;return console.log(r),r}());break;case"brightness":a=e.brighten(n,parseInt(t));break;case"crop":a=e.crop(n,0,0,320,180);break;case"contrast":a=e.contrast(n,parseFloat(t))}return a};(async()=>{let e=null;try{e=await Promise.resolve().then(s.bind(s,235)),console.log(e)}catch(e){return void console.error(e)}const{upload:t,icons:a,message:o,sliderbox:i,image:c,link:d,downbtn:l,output:_,fileReader:u,thumb:p}={upload:n("upload"),icons:document.querySelectorAll(".icon"),message:n("message"),slider:n("slider"),sliderbox:n("sliderbox"),image:n("new-img"),link:n("link"),downbtn:n("download"),output:n("value"),fileReader:new FileReader,thumb:n("thumb")};let f,g,b,m,h,v,w,y,x,k,j;a.forEach((n=>{n.onclick=()=>{if(x){j=n.parentElement.children,L(),n.style.color="#fff";const t=n.innerText.replace(/ /g,"").split("\n")[1].toLowerCase();k=t,(e=>"grayscale"==e||"invert"==e||"flip"==e||"crop"==e)(k)&&(w=r(e,x,k,h),c.src=w,x=w.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")),S()}else alert("Please upload image")}}));const L=()=>{for(let e=0;e<j.length;e++)j[e].style.color="#8e8eab"};t.onchange=()=>{u.readAsDataURL(t.files[0]),c.src=window.URL.createObjectURL(t.files[0]),n("delete").classList.remove("hidden"),o.classList.add("hidden")},u.onloadend=()=>{y=u.result,x=u.result.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")},l.onclick=()=>{d.download=`img-${k}.png`,d.href=w,d.click(),n("delete").classList.add("hidden"),o.classList.remove("hidden"),i.classList.add("hidden"),c.src=""},n("plus90").onclick=()=>{k="rotate_90",w=r(e,x,k,h),c.src=w,x=w.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")},n("min90").onclick=()=>{k="rotate_270",w=r(e,x,k,h),c.src=w,x=w.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")},n("thumb").onmousedown=e=>{f=e.clientX,g=e.clientY,v=p.style.left,v=v.replace("px",""),v=parseInt(v),document.addEventListener("mousemove",E),document.addEventListener("mouseup",T)};const E=e=>{e.preventDefault();const n=e.clientX-f,r=(e.clientY,p.parentElement.clientWidth);let t;n>r-v||n<-(v-0)||(t=v+n,p.style.left=`${t}px`,h=t/r*(m-b)+b,h="blur"!=k?parseInt(h):Math.round(10*h)/10,_.innerText=h)},T=()=>{w=r(e,x,k,h),c.src=w,x=w.replace(/^data:image\/(png|jpeg|jpg);base64,/,""),document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",T)};n("compare").onmousedown=()=>{c.src=y},n("compare").onmouseup=()=>{c.src=w},n("main").ondrop=e=>{if(e.preventDefault(),n("main").classList.remove("drag"),e.dataTransfer.items&&"file"==e.dataTransfer.items[0].kind){const r=e.dataTransfer.items[0].getAsFile();"image/png"==r.type?(y=r,u.readAsDataURL(r),c.src=window.URL.createObjectURL(r),n("delete").classList.remove("hidden"),o.classList.add("hidden")):alert("upload a png image")}},n("main").ondragleave=e=>{e.preventDefault(),n("main").classList.remove("drag")},n("main").ondragover=e=>{e.preventDefault(),n("main").classList.add("drag")};const S=()=>{"blur"==k?A(.5,9.5,5):O()?A(-50,50,0):"sharpen"==k?A(-5,5,0):i.classList.add("hidden")},A=(e,n,r)=>{b=e,m=n,h=r,i.classList.remove("hidden");const t=(h-b)/(m-b)*p.parentElement.clientWidth-10;p.style.left=`${t}px`,_.innerText=h},O=()=>"brightness"==k||"contrast"==k;n("delete").classList.add("hidden"),n("delete").onclick=()=>{c.src="",n("upload").value="",n("delete").classList.add("hidden"),o.classList.remove("hidden"),i.classList.add("hidden")}})()})()})();